<div class="container header-space col-md-9">
  <h2 class="mb-3"><%= t "user.information" %></h2>
  <div class="row border border-secondary rounded p-5 mb-3 alert-success">
    <div class="col-md-6">
      <div class="row">
        <div class="col-sm-4 font-weight-bold"><%= t "user.full_name" %></div>
        <div class="col-sm-8"><%= current_user.full_name %></div>
      </div>
      <div class="row">
        <div class="col-sm-4 font-weight-bold"><%= t "user.email" %></div>
        <div class="col-sm-8"><%= current_user.email %></div>
      </div>
      <div class="row">
        <div class="col-sm-4 font-weight-bold"><%= t "user.phone_number" %> </div>
        <div class="col-sm-8"><%= current_user.phone_number %></div>
      </div>
    </div>
    <div class="col-md-6 ml-auto">
      <div class="row">
        <div class="col-sm-4 font-weight-bold"><%= t "user.birthday" %> </div>
        <div class="col-sm-8"><%= l(current_user.birthday, format: :notime) %></div>
      </div>
      <div class="row">
        <div class="col-sm-4 font-weight-bold"><%= t "user.gender" %> </div>
        <div class="col-sm-8"><%= t("user.gen.#{current_user.gender}") %></div>
      </div>
      <div class="row">
        <div class="col-sm-4 font-weight-bold"><%= t "user.address" %></div>
        <div class="col-sm-8"><%= current_user.address %></div>
      </div>
    </div>
  </div>
  <div class="text-center">
      <%= link_to t("user.update_profile"), "#updateInfo", class: "btn btn-success", "data-toggle": "modal" %>
      <%= link_to t("user.change_password"), "#changePassword", class: "btn btn-info", "data-toggle": "modal" %>
      <%= link_to t("close"), root_path, class: "btn btn-warning" %>
    <div class="col-4 mr-auto">
    </div>
    <div class="col-4 mx-auto"></div>
    <div class="col-4 mr-auto"></div>
  </div>
  <div class="row">
    <h4 class="font-weight-bold"><%= t "user.booking_history" %></h4>
    <div class="table-pos">
      <table class="table table-striped table-inverse">
        <thead class="bg-primary text-white">
          <tr>
            <th><%= t "created_at" %></th>
            <th><%= t "tour.place" %></th>
            <th><%= t "tour.start_date" %></th>
            <th><%= t "tour.end_date" %></th>
            <th><%= t "tour.quantity" %></th>
            <th><%= t "tour.price" %></th>
            <th><%= t "tour.total" %></th>
            <th><%= t "booking.payment" %></th>
            <th class="text-center"><%= t "control" %></th>
          </tr>
        </thead>
          <tbody>
            <%= render partial: "user/users/booking", collection: current_user.bookings, as: @bookings %>
          </tbody>
      </table>
    </div>
  </div>
</div>
<div class="modal fade bg-overlay" id="updateInfo" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"><%= t "user.update_profile" %></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <%= form_for [:user, @user], class: "form-group", method: :put do |f| %>
        <div class="modal-body">
          <%= f.label :full_name, "*" + t("user.full_name") %>
          <%= f.text_field :full_name, class: "form-control mb-2" %>
          <div class="row">
            <div class="col-md-6">
              <%= f.label :phone_number, "*" + t("user.phone_number") %>
              <%= f.text_field :phone_number, class: "form-control mb-2" %>
            </div>
            <div class="col-md-6">
              <%= f.label :birthday, "*" + t("user.birthday") %>
              <%= f.date_field :birthday, class: "form-control mb-2" %>
            </div>
          </div>
          <%= f.label :gender, "*" + t("user.gender") %>
          <%= f.select :gender, options_for_select([[t("user.gen.1"), Settings.user.gender.male], [t("user.gen.0"), Settings.user.gender.female]]) %>
          <%= f.label :address, "*" + t("user.address"),  class: "d-block" %>
          <%= f.text_field :address, class: "form-control" %>
        </div>
        <div class="modal-footer">
          <%= link_to t("close"), "#", class: "btn btn-secondary", "data-dismiss": "modal" %>
          <%= f.submit t("btn_submit"), class: "btn btn-success" %>
        </div>
      <% end %>
    </div>
  </div>
</div>
<div class="modal fade bg-overlay" id="changePassword" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"><%= t "user.change_password" %></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <%= form_for [:user, @user], url: change_password_user_user_path(current_user.id), class: "form-group", method: :put do |f| %>
        <div class="modal-body">
          <%= f.label :current_password, "*" + t("user.current_password") %>
          <%= f.password_field :current_password, class: "form-control mb-2" %>
          <%= f.label :password, t("user.new_password") %>
          <%= f.password_field :password, class: "form-control mb-2" %>
          <%= f.label :password_confirmation, t("user.password_confirmation") %>
          <%= f.password_field :password_confirmation, class: "form-control mb-2" %>
        </div>
        <div class="modal-footer">
          <%= link_to t("close"), "#", class: "btn btn-secondary", "data-dismiss": "modal" %>
          <%= f.submit t("btn_submit"), class: "btn btn-success" %>
        </div>
      <% end %>
    </div>
  </div>
</div>
